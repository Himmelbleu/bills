import{D as h,C as b}from"./index-BQ4MH4yd.js";import{U as C,d as re}from"./index-yN6PRDud.js";/* empty css                   */import{d as T,r as w,a as f,o as E,c as N,b as l,w as n,e as $,u as e,t as S,f as u,i as K,E as j,g as A,h as ue,j as X,p as _e,k as pe,_ as fe,l as de,F as z,m as H,n as W,q as P,v as Q}from"./index-D6eo5SNi.js";const be={class:"f-c-c w-100%"},ve=u("div",{class:"i-tabler-trash"},null,-1),ye=u("div",{class:"i-tabler-x"},null,-1),ge=T({__name:"DeleteItem",props:{database:{type:Object},data:{type:Object,required:!0},value:{type:Object,required:!0},currY:{type:String,required:!0},currM:{type:String,required:!0},index:{type:Number,required:!0}},setup(v){const p=v,c=w(!1);async function _(){const{data:o,currM:a,value:s,database:t,currY:i}=p,O=o.items[a].balance,D=O.findIndex(x=>x.id===s.id);D!==-1?(O.splice(D,1),await h.put(t,b.DB_RECORD,C.Objects.raw(o),i),c.value=!c.value):j.error("未找到删除的计划")}return(o,a)=>{const s=f("el-button"),t=f("el-form-item"),i=f("el-date-picker"),O=f("el-form"),D=f("el-dialog");return E(),N("div",null,[l(s,{size:"small",text:"",type:"danger",onClick:a[0]||(a[0]=x=>c.value=!e(c))},{default:n(()=>[$(" 删除计划 ")]),_:1}),l(D,{modelValue:e(c),"onUpdate:modelValue":a[3]||(a[3]=x=>K(c)?c.value=x:null),"append-to-body":"",title:"删除计划",width:"90%"},{default:n(()=>[l(O,{ref:"formInst","hide-required-asterisk":"","label-position":"left","label-width":"auto","status-icon":""},{default:n(()=>[l(t,{label:"备注",prop:"text"},{default:n(()=>[$(S(v.data.items[v.currM].balance[v.index].text),1)]),_:1}),l(t,{label:"金额",prop:"cost"},{default:n(()=>[$(S(v.data.items[v.currM].balance[v.index].cost),1)]),_:1}),l(t,{label:"日期",prop:"datetime"},{default:n(()=>[l(i,{modelValue:v.data.items[v.currM].balance[v.index].datetime,"onUpdate:modelValue":a[1]||(a[1]=x=>v.data.items[v.currM].balance[v.index].datetime=x),disabled:"",placeholder:"请输入日期",style:{width:"100%"},type:"date"},null,8,["modelValue"])]),_:1}),l(t,{class:"mt-10"},{default:n(()=>[u("div",be,[l(s,{class:"mr-4",plain:"",round:"",type:"danger",onClick:_},{icon:n(()=>[ve]),_:1}),l(s,{plain:"",round:"",type:"primary",onClick:a[2]||(a[2]=x=>c.value=!e(c))},{icon:n(()=>[ye]),_:1})])]),_:1})]),_:1},512)]),_:1},8,["modelValue"])])}}}),xe={class:"f-c-c w-100%"},De=u("div",{class:"i-tabler-x"},null,-1),he=u("div",{class:"i-tabler-check"},null,-1),Ce=T({__name:"UpdateItem",props:{database:{type:Object},data:{type:Object,required:!0},value:{type:Object,required:!0},index:{type:Number,required:!0},currM:{type:String,required:!0},currY:{type:String,required:!0}},async setup(v){let p,c;const _=v,o=w(!1),a=w(),s=w({cost:[{validator:C.Forms.validateMoney,trigger:"change"}],text:[{required:!0,message:"请输入收支备注",trigger:"blur"},{min:1,max:50,message:"长度在1~50个字符之间",trigger:"blur"}],datetime:[{required:!0,message:"请输入日期时间",trigger:"change"}]}),t=w({..._.value}),{items:i}=([p,c]=A(()=>h.get(_.database,b.DB_COMMENTS,b.DB_KEY_COMMENTS)),p=await p,c(),p),O=w(i),D=(r,m)=>{const V=r?O.value.filter(C.createFilter(r)):O.value;m(V)};function x(r){t.value.cost=r.cost}function B(){t.value={..._.value},o.value=!o.value}function Y(){const{data:r,currM:m,database:V,currY:k}=_,{formValidator:R}=C.Forms,{id:q}=t.value,g=r.items[m].balance;R(a.value,async()=>{const y=g.findIndex(M=>M.id===q);y!==-1?(g[y]=t.value,await h.put(V,b.DB_RECORD,C.Objects.raw(r),k),o.value=!o.value):j.error("未找到更新的计划")},()=>{j.error("检查输入的值是否正确")})}return(r,m)=>{const V=f("el-button"),k=f("el-autocomplete"),R=f("el-form-item"),q=f("el-input"),g=f("el-date-picker"),y=f("el-form"),M=f("el-dialog");return E(),N("div",null,[l(V,{size:"small",text:"",type:"primary",onClick:B},{default:n(()=>[$("编辑计划")]),_:1}),l(M,{modelValue:e(o),"onUpdate:modelValue":m[4]||(m[4]=d=>K(o)?o.value=d:null),"append-to-body":"",title:"修改计划",width:"90%"},{default:n(()=>[l(y,{ref_key:"formInst",ref:a,model:e(t),rules:e(s),"hide-required-asterisk":"","label-position":"left","label-width":"auto","status-icon":""},{default:n(()=>[l(R,{label:"备注",prop:"text"},{default:n(()=>[l(k,{modelValue:e(t).text,"onUpdate:modelValue":m[0]||(m[0]=d=>e(t).text=d),"fetch-suggestions":D,"prefix-icon":e(ue),placeholder:"请输入备注",style:{width:"100%"},onSelect:x},null,8,["modelValue","prefix-icon"])]),_:1}),l(R,{label:"金额",prop:"cost"},{default:n(()=>[l(q,{modelValue:e(t).cost,"onUpdate:modelValue":m[1]||(m[1]=d=>e(t).cost=d),modelModifiers:{number:!0},"prefix-icon":e(X),placeholder:"请输入金额",type:"number"},null,8,["modelValue","prefix-icon"])]),_:1}),l(R,{label:"日期",prop:"datetime"},{default:n(()=>[l(g,{modelValue:e(t).datetime,"onUpdate:modelValue":m[2]||(m[2]=d=>e(t).datetime=d),"disabled-date":d=>e(re)(d,v.currY,v.currM),placeholder:"请输入日期",style:{width:"100%"},type:"date"},null,8,["modelValue","disabled-date"])]),_:1}),l(R,{class:"mt-10"},{default:n(()=>[u("div",xe,[l(V,{class:"mr-4",plain:"",round:"",onClick:m[3]||(m[3]=d=>o.value=!e(o))},{icon:n(()=>[De]),_:1}),l(V,{plain:"",round:"",type:"primary",onClick:Y},{icon:n(()=>[he]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}}),ie=v=>(_e("data-v-9660d732"),v=v(),pe(),v),Oe={class:"f-c-c w-100%"},Ve=ie(()=>u("div",{class:"i-tabler-x"},null,-1)),we=ie(()=>u("div",{class:"i-tabler-check"},null,-1)),ke=T({__name:"AddItem",props:{database:{type:Object},data:{type:Object,required:!0},currY:{type:String,required:!0},currM:{type:String,required:!0}},async setup(v){let p,c;const _=v,o=w(!1),a=w({id:"",cost:0,text:"",datetime:C.Dates.nowDate("YY-MM-DD",new Date(Number(_.currY),Number(_.currM)-1))}),s=w(),t=w({cost:[{validator:C.Forms.validateMoney,trigger:"change"}],text:[{required:!0,message:"请输入备注",trigger:"change"},{min:1,max:50,message:"长度在1~50个字符之间",trigger:"change"}],datetime:[{required:!0,message:"请输入日期",trigger:"change"}]}),{items:i}=([p,c]=A(()=>h.get(_.database,b.DB_COMMENTS,b.DB_KEY_COMMENTS)),p=await p,c(),p),O=w(i);function D(){const{data:r,currM:m,database:V,currY:k}=_,{formValidator:R}=C.Forms,{generateRandomHash:q,Objects:g}=C,{value:y}=s,{value:M}=o;R(y,async()=>{a.value.id=q(),r.items[m].balance.push({...a.value}),await h.put(V,b.DB_RECORD,g.raw(r),k),o.value=!M},()=>{j.error("检查输入的值是否正确")})}const x=(r,m)=>{const V=r?O.value.filter(C.createFilter(r)):O.value;m(V)};function B(r){a.value.text=r.value,a.value.cost=r.cost,a.value.type=r.type}function Y(){s.value.resetFields(),a.value.datetime=C.Dates.nowDate("YY-MM-DD",new Date(Number(_.currY),Number(_.currM)-1))}return(r,m)=>{const V=f("el-button"),k=f("el-autocomplete"),R=f("el-form-item"),q=f("el-input"),g=f("el-date-picker"),y=f("el-form"),M=f("el-dialog");return E(),N("div",null,[l(V,{plain:"",round:"",size:"small",type:"success",onClick:m[0]||(m[0]=d=>o.value=!e(o))},{default:n(()=>[$("添加计划")]),_:1}),l(M,{modelValue:e(o),"onUpdate:modelValue":m[5]||(m[5]=d=>K(o)?o.value=d:null),"append-to-body":"",title:"添加一项计划",width:"90%",onOpened:Y},{default:n(()=>[l(y,{ref_key:"formInst",ref:s,model:e(a),rules:e(t),"hide-required-asterisk":"","label-position":"left","label-width":"auto","status-icon":""},{default:n(()=>[l(R,{label:"备注",prop:"text"},{default:n(()=>[l(k,{modelValue:e(a).text,"onUpdate:modelValue":m[1]||(m[1]=d=>e(a).text=d),"fetch-suggestions":x,"prefix-icon":e(ue),placeholder:"请输入备注",style:{width:"100%"},onSelect:B},null,8,["modelValue","prefix-icon"])]),_:1}),l(R,{label:"金额",prop:"cost"},{default:n(()=>[l(q,{modelValue:e(a).cost,"onUpdate:modelValue":m[2]||(m[2]=d=>e(a).cost=d),"prefix-icon":e(X),placeholder:"请输入金额",type:"number"},null,8,["modelValue","prefix-icon"])]),_:1}),l(R,{label:"日期",prop:"datetime"},{default:n(()=>[l(g,{modelValue:e(a).datetime,"onUpdate:modelValue":m[3]||(m[3]=d=>e(a).datetime=d),"disabled-date":d=>e(re)(d,v.currY,v.currM),placeholder:"请输入日期",style:{width:"100%"},type:"date"},null,8,["modelValue","disabled-date"])]),_:1}),l(R,{class:"mt-10"},{default:n(()=>[u("div",Oe,[l(V,{class:"mr-4",plain:"",round:"",onClick:m[4]||(m[4]=d=>o.value=!e(o))},{icon:n(()=>[Ve]),_:1}),l(V,{plain:"",round:"",type:"primary",onClick:D},{icon:n(()=>[we]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}}),Me=fe(ke,[["__scopeId","data-v-9660d732"]]),Ye={class:"f-c-c w-100%"},Re=u("div",{class:"i-tabler-x"},null,-1),Ie=u("div",{class:"i-tabler-check"},null,-1),Ee=T({__name:"UpdateRecord",props:{database:{type:Object,required:!0},data:{type:Object,required:!0},currM:{type:String,required:!0},currY:{type:String,required:!0}},setup(v){var i,O;const p=v,c=w(!1),_=w(),o=w({budget:[{validator:C.Forms.validateMoney,trigger:"change"}]}),a=de({budget:((O=(i=p.data)==null?void 0:i.items[p.currM])==null?void 0:O.budget)||0});function s(){var D,x;a.budget=((x=(D=p.data)==null?void 0:D.items[p.currM])==null?void 0:x.budget)||0,c.value=!c.value}function t(){const{data:D,currM:x,database:B,currY:Y}=p,{formValidator:r}=C.Forms,{budget:m}=a,{value:V}=_,{value:k}=c;r(V,async()=>{D.items[x].budget=Number(m),await h.put(B,b.DB_RECORD,C.Objects.raw(D),Y),c.value=!k},()=>{j.error("检查输入的值是否正确")})}return(D,x)=>{const B=f("el-button"),Y=f("el-input"),r=f("el-form-item"),m=f("el-form"),V=f("el-dialog");return E(),N("div",null,[l(B,{plain:"",round:"",size:"small",type:"info",onClick:s},{default:n(()=>[$("修改记录")]),_:1}),l(V,{modelValue:e(c),"onUpdate:modelValue":x[2]||(x[2]=k=>K(c)?c.value=k:null),"append-to-body":"",title:"修改记录",width:"90%"},{default:n(()=>[l(m,{ref_key:"formInst",ref:_,model:e(a),rules:e(o),"hide-required-asterisk":"","label-position":"left","status-icon":""},{default:n(()=>[l(r,{label:"预算",prop:"budget"},{default:n(()=>[l(Y,{modelValue:e(a).budget,"onUpdate:modelValue":x[0]||(x[0]=k=>e(a).budget=k),"prefix-icon":e(X),type:"number"},null,8,["modelValue","prefix-icon"])]),_:1}),l(r,{class:"mt-10"},{default:n(()=>[u("div",Ye,[l(B,{class:"mr-4",plain:"",round:"",onClick:x[1]||(x[1]=k=>c.value=!e(c))},{icon:n(()=>[Re]),_:1}),l(B,{plain:"",round:"",type:"primary",onClick:t},{icon:n(()=>[Ie]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}}),Be=u("div",{class:"i-tabler-calendar"},null,-1),Fe={class:"f-c-c w-100%"},Ne=u("div",{class:"i-tabler-x"},null,-1),qe=u("div",{class:"i-tabler-check"},null,-1),Se=T({__name:"CreateRecord",props:{database:{type:Object},data:{type:Object,required:!0},currM:{type:String,required:!0},currY:{type:String,required:!0},mList:{type:Array,required:!0}},emits:["onCreated"],async setup(v,{emit:p}){let c,_;const o=v,a=p,s=([c,_]=A(()=>h.get(o.database,b.DB_CONFIG,b.DB_KEY_CONFIG)),c=await c,_(),c),t=w(!1),i=de({year:o.currY,month:"1月",budget:s.budget}),O=w(),D=w();function x(){C.Forms.formValidator(O.value,()=>{const Y=i.month.split("月")[0];i.year!=o.currY?h.get(o.database,b.DB_RECORD,i.year).then(r=>{r?Object.keys(r.items).includes(Y)?j.error("已有该记录"):(r.items[Y]={surplus:0,budget:i.budget,balance:[]},h.put(o.database,b.DB_RECORD,C.Objects.raw(r),o.currY).then(()=>{t.value=!t.value,a("onCreated",i.year)})):h.add(o.database,b.DB_RECORD,{id:i.year,items:{[Y]:{budget:i.budget,surplus:0,balance:[]}}}).then(()=>{t.value=!t.value,a("onCreated",i.year)})}):o.mList.includes(Y)?j.error("已有该记录"):(o.data.items[Y]={surplus:0,budget:i.budget,balance:[]},h.put(o.database,b.DB_RECORD,C.Objects.raw(o.data),o.currY).then(()=>{t.value=!t.value,a("onCreated",i.year)}))},()=>j.error("创建记录失败"))}const B=Array.from({length:12},(Y,r)=>({value:`${r+1}`,label:`${r+1}`}));return(Y,r)=>{const m=f("el-button"),V=f("el-date-picker"),k=f("el-form-item"),R=f("el-option"),q=f("el-select"),g=f("el-input"),y=f("el-form"),M=f("el-dialog");return E(),N("div",null,[l(m,{plain:"",round:"",size:"small",type:"primary",onClick:r[0]||(r[0]=d=>t.value=!e(t))},{default:n(()=>[$("创建记录")]),_:1}),l(M,{modelValue:e(t),"onUpdate:modelValue":r[5]||(r[5]=d=>K(t)?t.value=d:null),"append-to-body":"",title:"创建记录",width:"90%",onOpened:r[6]||(r[6]=d=>e(O).resetFields())},{default:n(()=>[l(y,{ref_key:"formInst",ref:O,model:e(i),rules:e(D),"hide-required-asterisk":"","label-position":"left","status-icon":""},{default:n(()=>[l(k,{label:"年份",prop:"year"},{default:n(()=>[l(V,{modelValue:e(i).year,"onUpdate:modelValue":r[1]||(r[1]=d=>e(i).year=d),format:"YYYY",placeholder:"选择一个年份",style:{width:"100%"},type:"year","value-format":"YYYY"},null,8,["modelValue"])]),_:1}),l(k,{label:"月份",prop:"month"},{default:n(()=>[l(q,{modelValue:e(i).month,"onUpdate:modelValue":r[2]||(r[2]=d=>e(i).month=d),class:"w-100%"},{prefix:n(()=>[Be]),default:n(()=>[(E(!0),N(z,null,H(e(B),d=>(E(),W(R,{key:d.value,label:d.label+"月",value:d.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(k,{label:"预算",prop:"budget"},{default:n(()=>[l(g,{modelValue:e(i).budget,"onUpdate:modelValue":r[3]||(r[3]=d=>e(i).budget=d),"prefix-icon":e(X),type:"number"},null,8,["modelValue","prefix-icon"])]),_:1}),l(k,{class:"mt-10"},{default:n(()=>[u("div",Fe,[l(m,{class:"mr-4",plain:"",round:"",onClick:r[4]||(r[4]=d=>t.value=!e(t))},{icon:n(()=>[Ne]),_:1}),l(m,{plain:"",round:"",type:"primary",onClick:x},{icon:n(()=>[qe]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}}),$e=T({__name:"DeleteRecord",props:{database:{type:Object},data:{type:Object,required:!0},currM:{type:String,required:!0},currY:{type:String,required:!0},mList:{type:Array,required:!0}},emits:["onDeleted"],setup(v,{emit:p}){const c=v,_=p;function o(){const{mList:a,currM:s,data:t,database:i,currY:O}=c,D=C.deleteAndReturnNext(a,s);D?(delete t.items[s],h.put(i,b.DB_RECORD,C.Objects.raw(t),O).then(()=>h.put(i,b.DB_CONFIG,{id:b.DB_KEY_CONFIG,Y:O,M:D},b.DB_KEY_CONFIG)).then(()=>_("onDeleted",D)).catch(x=>{j.error("删除记录时发生错误"),console.error(x)})):j.error("至少保留一条记录")}return(a,s)=>{const t=f("el-button"),i=f("el-popconfirm");return E(),N("div",null,[l(i,{"cancel-button-text":"取消","confirm-button-text":"确定",title:"确定删除该记录？",onConfirm:o},{reference:n(()=>[l(t,{plain:"",round:"",size:"small",type:"danger"},{default:n(()=>[$("删除记录")]),_:1})]),_:1})])}}}),je={class:"main"},Ue={class:"mb-4"},Ge=u("div",{class:"mb-2"},"日期",-1),Ae={class:"f-c-b"},Ke={class:"mb-4"},Te=u("div",{class:"mb-2"},"操作",-1),Le={class:"f-c-b"},ze={class:"mb-4"},He=u("div",{class:"mb-2"},"数据",-1),Je={class:"f-c-s text-text-regular text-0.8rem"},Pe={class:"f-c-c"},Qe=u("div",{class:"i-tabler-coin text-text-secondary mr-1"},null,-1),We=u("span",{class:"text-text-secondary mr-1"},"本月预算",-1),Xe=u("span",{class:"text-text-secondary mr-1"},"，剩余",-1),Ze={class:"f-c-e text-text-regular text-0.8rem"},et={class:"f-c-c"},tt=u("div",{class:"i-tabler-minus text-text-secondary mr-1"},null,-1),lt=u("span",{class:"text-text-secondary mr-1"},"已计划",-1),at=u("span",{class:"text-text-secondary mr-1"},"，较上月",-1),ot={class:"f-c-c text-red"},nt=u("div",{class:"i-tabler-caret-up"},null,-1),st={class:"f-c-c text-green"},rt=u("div",{class:"i-tabler-caret-down"},null,-1),ut={class:"mb-2 text-0.9rem text-text-secondary"},dt={class:"w-100% f-c-b"},it={class:"f-c-s"},ct={class:"text-text-secondary"},mt={class:"m-2"},vt=T({__name:"Home",async setup(v){let p,c;const _=([p,c]=A(()=>h.create()),p=await p,c(),p),o=([p,c]=A(()=>h.get(_,b.DB_CONFIG,b.DB_KEY_CONFIG)),p=await p,c(),p),a=w(o.Y),s=w(o.M),t=w(([p,c]=A(()=>h.get(_,b.DB_RECORD,a.value)),p=await p,c(),p)),i=w(Object.keys(t.value.items)),O=w(([p,c]=A(()=>h.keys(_,b.DB_RECORD)),p=await p,c(),p)),D=w(0);function x(){if(!(t!=null&&t.value.items[s.value]))return 0;let g,y=0,M=0;const d=i.value.sort((I,G)=>Number(I)-Number(G)),U=d.findIndex(I=>I===s.value);return U!==-1?(U===0||(t.value.items[d[U-1]].balance.forEach(I=>y+=Number(I.cost)),t.value.items[d[U]].balance.forEach(I=>M+=Number(I.cost))),g=y!==0?(M-y)/y*100*10/10:0):g=0,g}function B(g){let y=0;return g.forEach(M=>{y+=Number(M.cost)}),y}function Y(){if(!(t!=null&&t.value.items[s.value]))return 0;const g=B(t.value.items[s.value].balance);return t.value.items[s.value].surplus=Number(t.value.items[s.value].budget-g),h.put(_,b.DB_RECORD,C.Objects.raw(t.value),a.value).then(()=>{D.value=x()}),t.value.items[s.value].surplus}function r(){return t!=null&&t.value.items[s.value]?B(t.value.items[s.value].balance):0}function m(){o.Y=a.value,o.M=s.value,h.put(_,b.DB_CONFIG,C.Objects.raw(o),b.DB_KEY_CONFIG),h.get(_,b.DB_RECORD,a.value).then(g=>{t.value=g,i.value=Object.keys(t.value.items),s.value=i.value[0]})}function V(){o.Y=a.value,o.M=s.value,h.put(_,b.DB_CONFIG,C.Objects.raw(o),b.DB_KEY_CONFIG)}async function k(g){h.get(_,b.DB_RECORD,g).then(y=>{t.value=y,h.keys(_,b.DB_RECORD).then(M=>{O.value=M,a.value=g,i.value=Object.keys(t.value.items),s.value=i.value[0],o.Y=a.value,o.M=s.value,h.put(_,b.DB_CONFIG,C.Objects.raw(o),b.DB_KEY_CONFIG)})})}function R(g){s.value=g,o.Y=a.value,o.M=s.value,h.put(_,b.DB_CONFIG,C.Objects.raw(o),b.DB_KEY_CONFIG)}function q(g){var L;const y={};(((L=g==null?void 0:g.items[s.value])==null?void 0:L.balance)||[]).forEach(I=>{const G=C.Dates.formatDate("YY-MM-DD HH:mm:ss",String(I.datetime)).split(" ")[0];y[G]||(y[G]=[]),y[G].push(I)});const d={},U=Object.keys(y).sort((I,G)=>new Date(I).getTime()-new Date(G).getTime());return o.itemAsc||U.reverse(),U.forEach(I=>{d[I]=y[I]}),d}return(g,y)=>{var ee,te,le,ae,oe,ne;const M=f("el-option"),d=f("el-select"),U=Se,L=Ee,I=Me,G=Ce,ce=ge,me=f("el-dropdown");return E(),N("div",je,[u("div",Ue,[Ge,u("div",Ae,[l(d,{modelValue:e(a),"onUpdate:modelValue":y[0]||(y[0]=F=>K(a)?a.value=F:null),class:"mr-4",onChange:m},{default:n(()=>[(E(!0),N(z,null,H(e(O),F=>(E(),W(M,{key:F,label:F+"年",value:F},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),l(d,{modelValue:e(s),"onUpdate:modelValue":y[1]||(y[1]=F=>K(s)?s.value=F:null),onChange:V},{default:n(()=>[(E(!0),N(z,null,H(e(i),F=>(E(),W(M,{key:F+"月",label:F+"月",value:F},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),u("div",Ke,[Te,u("div",Le,[l($e,{"curr-m":e(s),"curr-y":e(a),data:e(t),database:e(_),"m-list":e(i),onOnDeleted:R},null,8,["curr-m","curr-y","data","database","m-list"]),l(U,{"curr-m":e(s),"curr-y":e(a),data:e(t),database:e(_),"m-list":e(i),onOnCreated:k},null,8,["curr-m","curr-y","data","database","m-list"]),l(L,{"curr-m":e(s),"curr-y":e(a),data:e(t),database:e(_)},null,8,["curr-m","curr-y","data","database"]),l(I,{"curr-m":e(s),"curr-y":e(a),data:e(t),database:e(_)},null,8,["curr-m","curr-y","data","database"])])]),u("div",null,[u("div",ze,[He,u("div",Je,[u("div",Pe,[Qe,We,u("span",null,S((te=(ee=e(t))==null?void 0:ee.items[e(s)])==null?void 0:te.budget),1),Xe,P(u("span",{class:"text-green"},S(Y().toFixed(2)),513),[[Q,((ae=(le=e(t))==null?void 0:le.items[e(s)])==null?void 0:ae.surplus)>=0]]),P(u("span",{class:"text-red"},S(Y().toFixed(2)),513),[[Q,((ne=(oe=e(t))==null?void 0:oe.items[e(s)])==null?void 0:ne.surplus)<0]])])]),u("div",Ze,[u("div",et,[tt,lt,u("span",null,S(r().toFixed(2)),1)]),at,P(u("div",ot,[$(S(e(D).toFixed(2))+"% ",1),nt],512),[[Q,e(D)>0]]),P(u("div",st,[$(S(e(D).toFixed(2))+"% ",1),rt],512),[[Q,e(D)<=0]])])]),u("div",null,[(E(!0),N(z,null,H(q(e(t)),(F,se)=>(E(),N("div",{key:se,class:"mb-4"},[u("div",ut,S(se),1),(E(!0),N(z,null,H(F,(J,Z)=>(E(),W(me,{key:Z,class:"w-100% bg-bg-overlay p-4 rd-2 mt-2",trigger:"click"},{dropdown:n(()=>[u("div",mt,[l(G,{"curr-m":e(s),"curr-y":e(a),data:e(t),database:e(_),index:Z,value:J,class:"mb-2"},null,8,["curr-m","curr-y","data","database","index","value"]),l(ce,{"curr-m":e(s),"curr-y":e(a),data:e(t),database:e(_),index:Z,value:J},null,8,["curr-m","curr-y","data","database","index","value"])])]),default:n(()=>[u("div",dt,[u("div",it,S(J.text),1),u("div",ct,S(J.cost),1)])]),_:2},1024))),128))]))),128))])])])}}});export{vt as default};
