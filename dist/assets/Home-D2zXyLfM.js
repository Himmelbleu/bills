import{D,C as b}from"./index-H7sj-gKN.js";import{U as C,d as pe}from"./index-C8DKE861.js";import{d as T,r as h,a as c,o as w,c as B,b as t,w as o,e as S,u as e,t as q,F as j,f as U,g as r,i as L,h as K,j as ue,k as X,E as z,p as fe,l as be,_ as ve,m as de,n as W,q as P,v as Q}from"./index-B-RKLB6a.js";/* empty css                   */const ye={class:"f-c-c w-100%"},ge=r("div",{class:"i-tabler-trash"},null,-1),xe=r("div",{class:"i-tabler-x"},null,-1),De=T({__name:"DeleteItem",props:{database:{type:Object},data:{type:Object,required:!0},value:{type:Object,required:!0},currY:{type:String,required:!0},currM:{type:String,required:!0},index:{type:Number,required:!0}},setup(v){const d=v,s=h(!1);async function u(){d.data.items[d.currM].balance.splice(d.index,1),await D.put(d.database,b.DB_RECORD,C.Objects.raw(d.data),d.currY),s.value=!s.value}return(n,a)=>{const i=c("el-button"),l=c("el-form-item"),_=c("el-radio"),Y=c("el-radio-group"),k=c("el-form"),M=c("el-dialog");return w(),B("div",null,[t(i,{size:"small",text:"",type:"danger",onClick:a[0]||(a[0]=V=>s.value=!e(s))},{default:o(()=>[S(" 删除收支 ")]),_:1}),t(M,{modelValue:e(s),"onUpdate:modelValue":a[3]||(a[3]=V=>L(s)?s.value=V:null),"append-to-body":"",title:"删除收支提示",width:"90%"},{default:o(()=>[t(k,{ref:"formInst","hide-required-asterisk":"","label-position":"left","status-icon":""},{default:o(()=>[t(l,{label:"备注",prop:"text"},{default:o(()=>[S(q(v.data.items[v.currM].balance[v.index].text),1)]),_:1}),t(l,{label:"金额",prop:"cost"},{default:o(()=>[S(q(v.data.items[v.currM].balance[v.index].cost),1)]),_:1}),t(l,{label:"类型",prop:"type"},{default:o(()=>[t(Y,{modelValue:v.data.items[v.currM].balance[v.index].type,"onUpdate:modelValue":a[1]||(a[1]=V=>v.data.items[v.currM].balance[v.index].type=V)},{default:o(()=>[(w(),B(j,null,U(["支","收"],V=>t(_,{label:V,value:V,disabled:""},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(l,{class:"mt-10"},{default:o(()=>[r("div",ye,[t(i,{class:"mr-4",plain:"",round:"",type:"danger",onClick:u},{icon:o(()=>[ge]),_:1}),t(i,{plain:"",round:"",type:"primary",onClick:a[2]||(a[2]=V=>s.value=!e(s))},{icon:o(()=>[xe]),_:1})])]),_:1})]),_:1},512)]),_:1},8,["modelValue"])])}}}),Ce={class:"f-c-c w-100%"},Oe=r("div",{class:"i-tabler-x"},null,-1),he=r("div",{class:"i-tabler-check"},null,-1),Ve=T({__name:"UpdateItem",props:{database:{type:Object},data:{type:Object,required:!0},value:{type:Object,required:!0},index:{type:Number,required:!0},currM:{type:String,required:!0},currY:{type:String,required:!0}},async setup(v){let d,s;const u=v,n=h(!1),a=h(),i=h({cost:[{validator:C.Forms.validateMoney,trigger:"change"}],text:[{required:!0,message:"请输入收支备注",trigger:"blur"},{min:1,max:50,message:"长度在1~50个字符之间",trigger:"blur"}]}),l=h({...u.value}),{items:_}=([d,s]=K(()=>D.get(u.database,b.DB_COMMENTS,b.DB_KEY_COMMENTS)),d=await d,s(),d),Y=h(_),k=(m,p)=>{const R=m?Y.value.filter(C.createFilter(m)):Y.value;p(R)};function M(m){l.value.cost=m.cost}function V(){l.value={...u.value},n.value=!n.value}function E(){C.Forms.formValidator(a.value,async()=>{u.data.items[u.currM].balance[u.index]=l.value,await D.put(u.database,b.DB_RECORD,C.Objects.raw(u.data),u.currY),n.value=!n.value},()=>{z.error("检查输入的值是否正确")})}return(m,p)=>{const R=c("el-button"),N=c("el-autocomplete"),F=c("el-form-item"),G=c("el-input"),A=c("el-radio"),g=c("el-radio-group"),y=c("el-form"),f=c("el-dialog");return w(),B("div",null,[t(R,{size:"small",text:"",type:"primary",onClick:V},{default:o(()=>[S("编辑收支")]),_:1}),t(f,{modelValue:e(n),"onUpdate:modelValue":p[4]||(p[4]=O=>L(n)?n.value=O:null),"append-to-body":"",title:"修改支出项",width:"90%"},{default:o(()=>[t(y,{ref_key:"formInst",ref:a,model:e(l),rules:e(i),"hide-required-asterisk":"","label-position":"left","status-icon":""},{default:o(()=>[t(F,{label:"备注",prop:"text"},{default:o(()=>[t(N,{modelValue:e(l).text,"onUpdate:modelValue":p[0]||(p[0]=O=>e(l).text=O),"fetch-suggestions":k,"prefix-icon":e(ue),placeholder:"请输入备注",style:{width:"100%"},onSelect:M},null,8,["modelValue","prefix-icon"])]),_:1}),t(F,{label:"花费",prop:"cost"},{default:o(()=>[t(G,{modelValue:e(l).cost,"onUpdate:modelValue":p[1]||(p[1]=O=>e(l).cost=O),modelModifiers:{number:!0},"prefix-icon":e(X),type:"number"},null,8,["modelValue","prefix-icon"])]),_:1}),t(F,{label:"类型",prop:"type"},{default:o(()=>[t(g,{modelValue:e(l).type,"onUpdate:modelValue":p[2]||(p[2]=O=>e(l).type=O)},{default:o(()=>[(w(),B(j,null,U(["支","收"],O=>t(A,{value:O},{default:o(()=>[S(q(O),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(F,{class:"mt-10"},{default:o(()=>[r("div",Ce,[t(R,{class:"mr-4",plain:"",round:"",onClick:p[3]||(p[3]=O=>n.value=!e(n))},{icon:o(()=>[Oe]),_:1}),t(R,{plain:"",round:"",type:"primary",onClick:E},{icon:o(()=>[he]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}}),ie=v=>(fe("data-v-83275208"),v=v(),be(),v),we={class:"f-c-c w-100%"},Me=ie(()=>r("div",{class:"i-tabler-x"},null,-1)),Ye=ie(()=>r("div",{class:"i-tabler-check"},null,-1)),ke=T({__name:"AddItem",props:{database:{type:Object},data:{type:Object,required:!0},currY:{type:String,required:!0},currM:{type:String,required:!0}},async setup(v){let d,s;const u=v,n=h(!1),a=h({cost:0,text:"",type:"支",datetime:C.Dates.nowDate("YY-MM-DD",new Date(Number(u.currY),Number(u.currM)-1))}),i=h(),l=h({cost:[{validator:C.Forms.validateMoney,trigger:"change"}],text:[{required:!0,message:"请输入收支备注",trigger:"change"},{min:1,max:50,message:"长度在1~50个字符之间",trigger:"change"}],datetime:[{required:!0,message:"请输入日期时间",trigger:"change"}]}),{items:_}=([d,s]=K(()=>D.get(u.database,b.DB_COMMENTS,b.DB_KEY_COMMENTS)),d=await d,s(),d),Y=h(_);function k(){C.Forms.formValidator(i.value,async()=>{u.data.items[u.currM].balance.push({...a.value}),await D.put(u.database,b.DB_RECORD,C.Objects.raw(u.data),u.currY),n.value=!n.value},()=>{z.error("检查输入的值是否正确")})}const M=(m,p)=>{const R=m?Y.value.filter(C.createFilter(m)):Y.value;p(R)};function V(m){a.value.text=m.value,a.value.cost=m.cost,a.value.type=m.type}function E(){i.value.resetFields(),a.value.datetime=C.Dates.nowDate("YY-MM-DD",new Date(Number(u.currY),Number(u.currM)-1))}return(m,p)=>{const R=c("el-button"),N=c("el-autocomplete"),F=c("el-form-item"),G=c("el-input"),A=c("el-date-picker"),g=c("el-radio"),y=c("el-radio-group"),f=c("el-form"),O=c("el-dialog");return w(),B("div",null,[t(R,{plain:"",round:"",size:"small",type:"success",onClick:p[0]||(p[0]=x=>n.value=!e(n))},{default:o(()=>[S("添加收支")]),_:1}),t(O,{modelValue:e(n),"onUpdate:modelValue":p[6]||(p[6]=x=>L(n)?n.value=x:null),"append-to-body":"",title:"添加收支",width:"90%",onOpened:E},{default:o(()=>[t(f,{ref_key:"formInst",ref:i,model:e(a),rules:e(l),"hide-required-asterisk":"","label-position":"left","label-width":"auto","status-icon":""},{default:o(()=>[t(F,{label:"备注",prop:"text"},{default:o(()=>[t(N,{modelValue:e(a).text,"onUpdate:modelValue":p[1]||(p[1]=x=>e(a).text=x),"fetch-suggestions":M,"prefix-icon":e(ue),placeholder:"请输入收支备注",style:{width:"100%"},onSelect:V},null,8,["modelValue","prefix-icon"])]),_:1}),t(F,{label:"花费",prop:"cost"},{default:o(()=>[t(G,{modelValue:e(a).cost,"onUpdate:modelValue":p[2]||(p[2]=x=>e(a).cost=x),"prefix-icon":e(X),placeholder:"请输入收支金额",type:"number"},null,8,["modelValue","prefix-icon"])]),_:1}),t(F,{label:"日期时间",prop:"datetime"},{default:o(()=>[t(A,{modelValue:e(a).datetime,"onUpdate:modelValue":p[3]||(p[3]=x=>e(a).datetime=x),"disabled-date":x=>e(pe)(x,v.currY,v.currM),placeholder:"请输入日期时间",style:{width:"100%"},type:"date"},null,8,["modelValue","disabled-date"])]),_:1}),t(F,{label:"类型",prop:"type"},{default:o(()=>[t(y,{modelValue:e(a).type,"onUpdate:modelValue":p[4]||(p[4]=x=>e(a).type=x)},{default:o(()=>[(w(),B(j,null,U(["支","收"],x=>t(g,{label:x,value:x},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(F,{class:"mt-10"},{default:o(()=>[r("div",we,[t(R,{class:"mr-4",plain:"",round:"",onClick:p[5]||(p[5]=x=>n.value=!e(n))},{icon:o(()=>[Me]),_:1}),t(R,{plain:"",round:"",type:"primary",onClick:k},{icon:o(()=>[Ye]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}}),Re=ve(ke,[["__scopeId","data-v-83275208"]]),Ee={class:"f-c-c w-100%"},Be=r("div",{class:"i-tabler-x"},null,-1),Ne=r("div",{class:"i-tabler-check"},null,-1),Fe=T({__name:"UpdateRecord",props:{database:{type:Object,required:!0},data:{type:Object,required:!0},currM:{type:String,required:!0},currY:{type:String,required:!0}},setup(v){var _,Y;const d=v,s=h(!1),u=h(),n=h({budget:[{validator:C.Forms.validateMoney,trigger:"change"}]}),a=de({budget:((Y=(_=d.data)==null?void 0:_.items[d.currM])==null?void 0:Y.budget)||0});function i(){var k,M;a.budget=((M=(k=d.data)==null?void 0:k.items[d.currM])==null?void 0:M.budget)||0,s.value=!s.value}function l(){C.Forms.formValidator(u.value,async()=>{d.data.items[d.currM].budget=Number(a.budget),await D.put(d.database,b.DB_RECORD,C.Objects.raw(d.data),d.currY),s.value=!s.value},()=>{z.error("检查输入的值是否正确")})}return(k,M)=>{const V=c("el-button"),E=c("el-input"),m=c("el-form-item"),p=c("el-form"),R=c("el-dialog");return w(),B("div",null,[t(V,{plain:"",round:"",size:"small",type:"info",onClick:i},{default:o(()=>[S("修改记录")]),_:1}),t(R,{modelValue:e(s),"onUpdate:modelValue":M[2]||(M[2]=N=>L(s)?s.value=N:null),"append-to-body":"",title:"修改记录",width:"90%"},{default:o(()=>[t(p,{ref_key:"formInst",ref:u,model:e(a),rules:e(n),"hide-required-asterisk":"","label-position":"left","status-icon":""},{default:o(()=>[t(m,{label:"预算",prop:"budget"},{default:o(()=>[t(E,{modelValue:e(a).budget,"onUpdate:modelValue":M[0]||(M[0]=N=>e(a).budget=N),"prefix-icon":e(X),type:"number"},null,8,["modelValue","prefix-icon"])]),_:1}),t(m,{class:"mt-10"},{default:o(()=>[r("div",Ee,[t(V,{class:"mr-4",plain:"",round:"",onClick:M[1]||(M[1]=N=>s.value=!e(s))},{icon:o(()=>[Be]),_:1}),t(V,{plain:"",round:"",type:"primary",onClick:l},{icon:o(()=>[Ne]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}}),Ie=r("div",{class:"i-tabler-calendar"},null,-1),qe={class:"f-c-c w-100%"},Se=r("div",{class:"i-tabler-x"},null,-1),$e=r("div",{class:"i-tabler-check"},null,-1),je=T({__name:"CreateRecord",props:{database:{type:Object},data:{type:Object,required:!0},currM:{type:String,required:!0},currY:{type:String,required:!0},mList:{type:Array,required:!0}},emits:["onCreated"],async setup(v,{emit:d}){let s,u;const n=v,a=d,i=([s,u]=K(()=>D.get(n.database,b.DB_CONFIG,b.DB_KEY_CONFIG)),s=await s,u(),s),l=h(!1),_=de({year:n.currY,month:"1月",budget:i.budget}),Y=h(),k=h();function M(){C.Forms.formValidator(Y.value,()=>{const E=_.month.split("月")[0];_.year!=n.currY?D.get(n.database,b.DB_RECORD,_.year).then(m=>{m?Object.keys(m.items).includes(E)?z.error("已有该记录"):(m.items[E]={surplus:0,budget:_.budget,balance:[]},D.put(n.database,b.DB_RECORD,C.Objects.raw(m),n.currY).then(()=>{l.value=!l.value,a("onCreated",_.year)})):D.add(n.database,b.DB_RECORD,{id:_.year,items:{[E]:{budget:_.budget,surplus:0,balance:[]}}}).then(()=>{l.value=!l.value,a("onCreated",_.year)})}):n.mList.includes(E)?z.error("已有该记录"):(n.data.items[E]={surplus:0,budget:_.budget,balance:[]},D.put(n.database,b.DB_RECORD,C.Objects.raw(n.data),n.currY).then(()=>{l.value=!l.value,a("onCreated",_.year)}))},()=>z.error("创建记录失败"))}const V=Array.from({length:12},(E,m)=>({value:`${m+1}`,label:`${m+1}`}));return(E,m)=>{const p=c("el-button"),R=c("el-date-picker"),N=c("el-form-item"),F=c("el-option"),G=c("el-select"),A=c("el-input"),g=c("el-form"),y=c("el-dialog");return w(),B("div",null,[t(p,{plain:"",round:"",size:"small",type:"primary",onClick:m[0]||(m[0]=f=>l.value=!e(l))},{default:o(()=>[S("创建记录")]),_:1}),t(y,{modelValue:e(l),"onUpdate:modelValue":m[5]||(m[5]=f=>L(l)?l.value=f:null),"append-to-body":"",title:"创建记录",width:"90%",onOpened:m[6]||(m[6]=f=>e(Y).resetFields())},{default:o(()=>[t(g,{ref_key:"formInst",ref:Y,model:e(_),rules:e(k),"hide-required-asterisk":"","label-position":"left","status-icon":""},{default:o(()=>[t(N,{label:"年份",prop:"year"},{default:o(()=>[t(R,{modelValue:e(_).year,"onUpdate:modelValue":m[1]||(m[1]=f=>e(_).year=f),format:"YYYY",placeholder:"选择一个年份",style:{width:"100%"},type:"year","value-format":"YYYY"},null,8,["modelValue"])]),_:1}),t(N,{label:"月份",prop:"month"},{default:o(()=>[t(G,{modelValue:e(_).month,"onUpdate:modelValue":m[2]||(m[2]=f=>e(_).month=f),class:"w-100%"},{prefix:o(()=>[Ie]),default:o(()=>[(w(!0),B(j,null,U(e(V),f=>(w(),W(F,{key:f.value,label:f.label+"月",value:f.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(N,{label:"预算",prop:"budget"},{default:o(()=>[t(A,{modelValue:e(_).budget,"onUpdate:modelValue":m[3]||(m[3]=f=>e(_).budget=f),"prefix-icon":e(X),type:"number"},null,8,["modelValue","prefix-icon"])]),_:1}),t(N,{class:"mt-10"},{default:o(()=>[r("div",qe,[t(p,{class:"mr-4",plain:"",round:"",onClick:m[4]||(m[4]=f=>l.value=!e(l))},{icon:o(()=>[Se]),_:1}),t(p,{plain:"",round:"",type:"primary",onClick:M},{icon:o(()=>[$e]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}}),Ue=T({__name:"DeleteRecord",props:{database:{type:Object},data:{type:Object,required:!0},currM:{type:String,required:!0},currY:{type:String,required:!0},mList:{type:Array,required:!0}},emits:["onDeleted"],setup(v,{emit:d}){const s=v,u=d;function n(){const a=C.deleteAndReturnNext(s.mList,s.currM);a?(delete s.data.items[s.currM],D.put(s.database,b.DB_RECORD,C.Objects.raw(s.data),s.currY).then(()=>{D.put(s.database,b.DB_CONFIG,{id:b.DB_KEY_CONFIG,Y:s.currY,M:a},b.DB_KEY_CONFIG),u("onDeleted",a)})):z.error("至少保留一条记录")}return(a,i)=>{const l=c("el-button"),_=c("el-popconfirm");return w(),B("div",null,[t(_,{"cancel-button-text":"取消","confirm-button-text":"确定",title:"确定删除该记录？",onConfirm:n},{reference:o(()=>[r("div",null,[t(l,{plain:"",round:"",size:"small",type:"danger"},{default:o(()=>[S("删除记录")]),_:1})])]),_:1})])}}}),Ge={class:"main"},Ae={class:"mb-4"},Ke=r("div",{class:"mb-2"},"日期",-1),ze={class:"f-c-b"},Le={class:"mb-4"},Te=r("div",{class:"mb-2"},"操作",-1),He={class:"f-c-b"},Je={class:"mb-4"},Pe=r("div",{class:"mb-2"},"数据",-1),Qe={class:"f-c-s text-text-regular text-0.8rem"},We={class:"f-c-c"},Xe=r("div",{class:"i-tabler-coin text-text-secondary mr-1"},null,-1),Ze=r("span",{class:"text-text-secondary mr-1"},"预算",-1),et=r("span",{class:"text-text-secondary mr-1"},"，剩余",-1),tt={class:"f-c-e text-text-regular text-0.8rem"},lt={class:"f-c-c"},at=r("div",{class:"i-tabler-minus text-text-secondary mr-1"},null,-1),ot=r("span",{class:"text-text-secondary mr-1"},"支出",-1),nt=r("span",{class:"text-text-secondary mr-1"},"，增长",-1),rt={class:"f-c-c text-red"},st=r("div",{class:"i-tabler-caret-up"},null,-1),ut={class:"f-c-c text-green"},dt=r("div",{class:"i-tabler-caret-down"},null,-1),it={class:"mb-2 text-0.9rem text-text-secondary"},ct={class:"w-100% f-c-b"},mt={class:"f-c-s"},_t={class:"text-text-secondary"},pt={class:"m-2"},gt=T({__name:"Home",async setup(v){let d,s;const u=([d,s]=K(()=>D.create()),d=await d,s(),d),n=([d,s]=K(()=>D.get(u,b.DB_CONFIG,b.DB_KEY_CONFIG)),d=await d,s(),d),a=h(n.Y),i=h(n.M),l=h(([d,s]=K(()=>D.get(u,b.DB_RECORD,a.value)),d=await d,s(),d)),_=h(Object.keys(l.value.items)),Y=h(([d,s]=K(()=>D.keys(u,b.DB_RECORD)),d=await d,s(),d)),k=h(0);function M(){if(!(l!=null&&l.value.items[i.value]))return 0;let g,y=0,f=0;const O=_.value.sort(($,Z)=>Number($)-Number(Z)),x=O.findIndex($=>$===i.value);return x!==-1?(x===0||(l.value.items[O[x-1]].balance.forEach($=>y+=Number($.cost)),l.value.items[O[x]].balance.forEach($=>f+=Number($.cost))),g=y!==0?(f-y)/y*100*10/10:0):g=0,g}function V(g){let y=0;return g.forEach(f=>{f.type==="收"?y-=Number(f.cost):y+=Number(f.cost)}),y}function E(){if(!(l!=null&&l.value.items[i.value]))return 0;const g=V(l.value.items[i.value].balance);return l.value.items[i.value].surplus=Number(l.value.items[i.value].budget-g),D.put(u,b.DB_RECORD,C.Objects.raw(l.value),a.value).then(()=>{k.value=M()}),l.value.items[i.value].surplus}function m(g){let y=0;return g.forEach(f=>{f.type==="支"&&(y+=Number(f.cost))}),y}function p(){return l!=null&&l.value.items[i.value]?m(l.value.items[i.value].balance):0}function R(){n.Y=a.value,n.M=i.value,D.put(u,b.DB_CONFIG,C.Objects.raw(n),b.DB_KEY_CONFIG),D.get(u,b.DB_RECORD,a.value).then(g=>{l.value=g,_.value=Object.keys(l.value.items),i.value=_.value[0]})}function N(){n.Y=a.value,n.M=i.value,D.put(u,b.DB_CONFIG,C.Objects.raw(n),b.DB_KEY_CONFIG)}async function F(g){D.get(u,b.DB_RECORD,g).then(y=>{l.value=y,D.keys(u,b.DB_RECORD).then(f=>{Y.value=f,a.value=g,_.value=Object.keys(l.value.items),i.value=_.value[0],n.Y=a.value,n.M=i.value,D.put(u,b.DB_CONFIG,C.Objects.raw(n),b.DB_KEY_CONFIG)})})}function G(g){i.value=g,n.Y=a.value,n.M=i.value,D.put(u,b.DB_CONFIG,C.Objects.raw(n),b.DB_KEY_CONFIG)}function A(g){var O;const y={};return(((O=g==null?void 0:g.items[i.value])==null?void 0:O.balance)||[]).forEach(x=>{const H=C.Dates.formatDate("YY-MM-DD HH:mm:ss",String(x.datetime)).split(" ")[0];y[H]||(y[H]=[]),y[H].push(x)}),y}return(g,y)=>{var te,le,ae,oe,ne,re;const f=c("el-option"),O=c("el-select"),x=je,H=Fe,$=Re,Z=c("el-tag"),ce=Ve,me=De,_e=c("el-dropdown");return w(),B("div",Ge,[r("div",Ae,[Ke,r("div",ze,[t(O,{modelValue:e(a),"onUpdate:modelValue":y[0]||(y[0]=I=>L(a)?a.value=I:null),class:"mr-4",onChange:R},{default:o(()=>[(w(!0),B(j,null,U(e(Y),I=>(w(),W(f,{key:I,label:I+"年",value:I},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),t(O,{modelValue:e(i),"onUpdate:modelValue":y[1]||(y[1]=I=>L(i)?i.value=I:null),onChange:N},{default:o(()=>[(w(!0),B(j,null,U(e(_),I=>(w(),W(f,{key:I+"月",label:I+"月",value:I},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),r("div",Le,[Te,r("div",He,[t(Ue,{"curr-m":e(i),"curr-y":e(a),data:e(l),database:e(u),"m-list":e(_),onOnDeleted:G},null,8,["curr-m","curr-y","data","database","m-list"]),t(x,{"curr-m":e(i),"curr-y":e(a),data:e(l),database:e(u),"m-list":e(_),onOnCreated:F},null,8,["curr-m","curr-y","data","database","m-list"]),t(H,{"curr-m":e(i),"curr-y":e(a),data:e(l),database:e(u)},null,8,["curr-m","curr-y","data","database"]),t($,{"curr-m":e(i),"curr-y":e(a),data:e(l),database:e(u)},null,8,["curr-m","curr-y","data","database"])])]),r("div",null,[r("div",Je,[Pe,r("div",Qe,[r("div",We,[Xe,Ze,r("span",null,q((le=(te=e(l))==null?void 0:te.items[e(i)])==null?void 0:le.budget),1),et,P(r("span",{class:"text-green"},q(E().toFixed(2)),513),[[Q,((oe=(ae=e(l))==null?void 0:ae.items[e(i)])==null?void 0:oe.surplus)>=0]]),P(r("span",{class:"text-red"},q(E().toFixed(2)),513),[[Q,((re=(ne=e(l))==null?void 0:ne.items[e(i)])==null?void 0:re.surplus)<0]])])]),r("div",tt,[r("div",lt,[at,ot,r("span",null,q(p().toFixed(2)),1)]),nt,P(r("div",rt,[S(q(e(k).toFixed(2))+"% ",1),st],512),[[Q,e(k)>0]]),P(r("div",ut,[S(q(e(k).toFixed(2))+"% ",1),dt],512),[[Q,e(k)<=0]])])]),r("div",null,[(w(!0),B(j,null,U(A(e(l)),(I,se)=>(w(),B("div",{class:"mb-4",key:se},[r("div",it,q(se),1),(w(!0),B(j,null,U(I,(J,ee)=>(w(),W(_e,{key:ee,class:"w-100% bg-bg-overlay p-4 rd-2 mt-2",trigger:"click"},{dropdown:o(()=>[r("div",pt,[t(ce,{"curr-m":e(i),"curr-y":e(a),data:e(l),database:e(u),index:ee,value:J,class:"mb-2"},null,8,["curr-m","curr-y","data","database","index","value"]),t(me,{"curr-m":e(i),"curr-y":e(a),data:e(l),database:e(u),index:ee,value:J},null,8,["curr-m","curr-y","data","database","index","value"])])]),default:o(()=>[r("div",ct,[r("div",mt,[t(Z,{type:J.type=="支"?"danger":"success",class:"mr-4",size:"small"},{default:o(()=>[S(q(J.type),1)]),_:2},1032,["type"]),r("div",null,q(J.text),1)]),r("div",_t,q(J.cost),1)])]),_:2},1024))),128))]))),128))])])])}}});export{gt as default};
