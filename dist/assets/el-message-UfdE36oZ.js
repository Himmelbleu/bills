var S;(e=>{e.RECORD="record",e.TALLY_PAD="tally_pad",e.COMMENTS="comments",e.VIEW_DATE="view_date"})(S||(S={}));var w;(e=>{function a(){const c=new Promise((n,s)=>{const r=indexedDB.open(S.TALLY_PAD);r.onsuccess=function(t){const o=t.target.result;n(o)},r.onerror=function(){s(new Error("创建数据库失败！"))},r.onupgradeneeded=function(t){const o=t.target.result,l=o.createObjectStore(S.RECORD,{keyPath:"id"}),f=o.createObjectStore(S.COMMENTS,{keyPath:"id"}),u=o.createObjectStore(S.VIEW_DATE,{keyPath:"id"});l.add({id:"2024",items:{1:{items:[],surplus:0,budget:0}}}),f.add({id:"0",items:[{value:"生活费",cost:1800,type:"支"}]}),u.add({id:"0",Y:"2024",M:"1"})}});return c.catch(n=>{console.error(n)}),c}e.create=a;function i(c,n,s,r){const t=new Promise((o,l)=>{const d=c.transaction([n],"readwrite").objectStore(n).add(s,r);d.onsuccess=function(){o(c)},d.onerror=function(){l(new Error("插入数据错误！"))}});return t.catch(o=>{console.error(o)}),t}e.add=i;function p(c,n,s){const r=new Promise((t,o)=>{const u=c.transaction([n],"readwrite").objectStore(n).delete(s);u.onsuccess=function(){t(c)},u.onerror=function(){o(new Error("删除数据错误！"))}});return r.catch(t=>{console.error(t)}),r}e.drop=p;function g(c,n,s,r){const t=new Promise((o,l)=>{const u=c.transaction([n],"readwrite").objectStore(n),d=u.get(r);d.onsuccess=function(m){u.put(s).onsuccess=function(){o(c)}},d.onerror=function(){l(new Error("更新数据错误！"))}});return t.catch(o=>{console.error(o)}),t}e.put=g;function O(c,n,s){const r=new Promise((t,o)=>{const f=c.transaction([n],"readwrite").objectStore(n);if(s){const u=f.get(s);u.onsuccess=function(){const d=u.result;d?t(d):o(null)},u.onerror=function(){o(null)}}else{const u=f.openCursor();u.onsuccess=function(d){const m=d.target.result;m&&(t(m.value),m.continue())},u.onerror=function(){o(null)}}});return r.catch(t=>{console.error(t)}),r}e.get=O;function _(c,n){const s=new Promise((r,t)=>{const l=c.transaction([n],"readonly").objectStore(n).getAllKeys();l.onsuccess=function(f){r(f.target.result)},l.onerror=function(){t(null)}});return s.catch(r=>{console.error(r)}),s}e.keys=_;function h(c){const n=new Promise((s,r)=>{const t=indexedDB.deleteDatabase(c);t.onsuccess=function(){s(null)},t.onerror=function(){r(null)},t.onblocked=function(){r(null)}});return n.catch(s=>{console.error(s)}),n}e.del=h})(w||(w={}));function P(){const e=new Date;return{y:String(e.getFullYear()),m:String(e.getMonth()+1).padStart(2,"0"),d:String(e.getDate()).padStart(2,"0"),h:String(e.getHours()).padStart(2,"0"),minute:String(e.getMinutes()).padStart(2,"0"),second:String(e.getSeconds()).padStart(2,"0")}}const M=Object.freeze(Object.defineProperty({__proto__:null,generateDate:P},Symbol.toStringTag,{value:"Module"})),E=async(e,a,i)=>{e&&await e.validate(p=>{p?a&&a():i&&i()})},j=(e,a,i)=>{if(!a)return i(new Error("请输入正确格式的金额！"));setTimeout(()=>{const p=a.toString().length;p>=1&&p<=20?i():i(new Error("金额在 1~9 位数！"))},20)},v=Object.freeze(Object.defineProperty({__proto__:null,formValidator:E,validateMoney:j},Symbol.toStringTag,{value:"Module"}));function D(e){if(typeof e!="object"||e===null)return!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a))return!0;return!1}function T(e){return JSON.parse(JSON.stringify(e))}const A=Object.freeze(Object.defineProperty({__proto__:null,hasProperties:D,raw:T},Symbol.toStringTag,{value:"Module"}));var y;(e=>{e.Dates=M,e.Forms=v,e.Objects=A;function a(i,p){const g=i.indexOf(p);return g!==-1?i.length===1?null:(i.splice(g,1),g===i.length?i[0]:i[g]):null}e.deleteAndReturnNext=a})(y||(y={}));export{S as C,w as D,y as U};
